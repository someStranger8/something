#!/usr/bin/env python3

import requests, os, sys, socket, time, art, ipaddress, random
from colorama import Fore
from tqdm import trange
from urllib.parse import urlparse

def load(hi):
    print(hi)
    time.sleep(0.1)

def get_ip(url):
    hostname = socket.gethostbyname(urlparse(url).hostname)
    print(hostname)
    if hostname:
        return ipaddress.IPv4Address(hostname).is_private

def load():
    time.sleep(0.1)

def main():
    banner = art.text2art("matrix", font="small")
    list = [Fore.BLUE,Fore.YELLOW,Fore.LIGHTCYAN_EX,Fore.CYAN,Fore.GREEN,Fore.MAGENTA,Fore.RED]
    rand = random.choice(list)
    print(f"{rand}{banner}")
    for i in trange(20):
        load()
    print()

    r = requests.get(sys.argv[1])
    exit = lambda: sys.exit()
        
    i=1
    while i < 10:
        rand = random.choice(list)
        shell = input(f"{rand}shell:~$ ")
        if shell == "request":
            print(r)
        elif shell == "status_code":
            print(r.status_code)
        elif shell == "url":
            print(r.url)
        elif shell == "ip":
            get_ip(sys.argv[1])
        elif shell == "payload":
            payload = input("[*] enter payload: ")
            print(payload)
            r = requests.get(sys.argv[1], params=payload)
        elif shell == "history":
            print(r.history)
        elif shell == "content":
            print(r.content)
        elif shell == "post":
            data = input("[*] enter data: ")
            r = requests.post(sys.argv[1], data=data)
        elif shell == "encoding":
            print(r.encoding)
        elif shell == "cookies":
            print(r.cookies)
        elif shell == "headers":
            print(r.headers)
        elif shell == "text":
            print(r.text)
        elif shell == "exit":
            exit()
        elif shell == "json":
            print(r.json)
        elif shell == "clear":
            os.system("clear")
        else:
            os.system(shell)

main()
