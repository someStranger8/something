import requests, os, sys, socket
import ipaddress, nmap
from urllib.parse import urlparse

def get_ip(url):
    hostname = socket.gethostbyname(urlparse(url).hostname)
    print('IP: {}'.format(hostname))
    if hostname:
        return ipaddress.IPv4Address(hostname).is_private

def main():
    r = requests.get(sys.argv[1])
    exit = lambda: sys.exit()
        
    i=1
    while i < 10:
        shell = input("$ ")
        if shell == "request":
            print(r)
        elif shell == "status_code":
            print(r.status_code)
        elif shell == "scan":
            nmap.PortScanner.scan(sys.argv[1])
        elif shell == "url":
            print(r.url)
        elif shell == "ip":
            get_ip(sys.argv[1])
        elif shell == "payload":
            payload = input("[*] enter payload: ")
            r = requests.get(sys.argv[1], params=payload)
        elif shell == "history":
            print(r.history)
        elif shell == "content":
            print(r.content)
        elif shell == "post":
            data = input("[*] enter data: ")
            r = requests.post(sys.argv[1], data=data)
        elif shell == "encoding":
            print(r.encoding)
        elif shell == "cookies":
            print(r.cookies)
        elif shell == "headers":
            print(r.headers)
        elif shell == "text":
            print(r.text)
        elif shell == "exit":
            exit()
        elif shell == "json":
            print(r.json)
        elif shell == "scaninfo":
            nmap.PortScanner.scaninfo()
        elif shell == "hostname":
            nmap.PortScanner.hostname()
        elif shell == "all_host":
            nmap.PortScanner.all_hosts()
        elif shell == "state":
            nmap.PortScanner.state()
        elif shell == "clear":
            os.system("clear")
        else:
            os.system(shell)

main()
